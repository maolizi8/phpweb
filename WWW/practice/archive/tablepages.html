<!DOCTYPE html>
<html>
	<head>
	<meta charset="UTF-8">
    <title>测试资源管理</title>
	<link rel="stylesheet" type="text/css" href="../cxtester/css/bootstrap.min.css" />
   	<link rel="stylesheet" type="text/css" href="../cxtester/css/jquery.dataTables.css" />
   	<link rel="stylesheet" type="text/css" href="../cxtester/css/dataTables.bootstrap.css" />
   	<script src="../cxtester/js/jquery-2.0.3.min.js" type="text/javascript" charset="utf-8"></script>
	<script src="../cxtester/js/jquery-2.1.0.js" type="text/javascript" charset="utf-8" ></script>
	<script src="../cxtester/js/bootstrap.min.js" type="text/javascript" charset="utf-8"></script>
	<script src="../cxtester/layer/layer.js"  type="text/javascript" charset="utf-8"></script>
	<script src="../cxtester/js/jquery.dataTables.js" type="text/javascript" charset="UTF-8"></script>
	
	<script type="text/javascript">
	$(document).ready(function() {
    	$('#example').DataTable({
    		"searching":false,
    		"lengthChange":false,
			"processing": true,
			//"serverSide": true,
	       	"filter":false,
    		"sort": false,
			"ajax": {
            	"url": "ajaxreturn.php",
            	"type": "POST"
        	},
        	"columns": [
            	{ "data": "index" },          	
            	{ "data": "tname" },
            	{ "data": "tstatus" },
				{ "data": "pproject" },
            	{"data": "pstart" },
            	{ "data": "pcomplete" },           	
            	{ "data": "pmanager" },
            	{ "data": "pdepartm" },
            	{ "data": "tskill" },
            	{ "data": "pstatus" }, 
            	{"data": null}
        	],
        	"columnDefs": [
        		{
            		"targets": 10,
            		"data": null,
            		"defaultContent": "<button>Click!</button>",
        		},
//      		{
//  				"targets": 2,
//  				"createdCell": function (td, cellData, rowData, row, col) {
//    					if ( cellData =='锁定' ) {
//     						$(td).css('color', 'red')
//    					}
//  				}
//  			}
        	],
        		
        	"createdRow": function ( row, data, dataIndex ) {
        		if ( data["tstatus"]=="锁定" ) {
               		//$(row).css('font-weight',"bold").css("color","red");
               		//$(row).addClass( 'important' );
               		$('td', row).eq(2).css('font-weight',"bold").css("color","red");
            	}
        	}
    		});
    		
    		$('#example tbody').on( 'click', 'button', function () {
        		var data = table.row( $(this).parents('tr') ).data();
        		alert( "haha");
    		} );
		});
	</script>
	
	</head>
	<body>
		<div class="container">
			<h2 style="align-content: center; width: 100%;" align="center">测试资源管理</h2>	
		<table id="example" class="table-bordered" cellspacing="0" width="100%">
    <thead>
        <tr>
			<th>序号</th>
			<th>姓名</th>
				<th>状态</th>
			
				<th>计划项目</th>
				<th>开始时间</th>
				<th>结束时间</th>
				<th>项目经理</th>
				<th>事业线</th>
				<th>技能</th>
				<th>项目状态</th>
				<th>操作</th>
			</tr>
    </thead>
   
  	
	</table>
</div>
	</body>
</html>
